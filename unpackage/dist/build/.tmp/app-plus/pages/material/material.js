(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/material/material"],{"517f":function(e,t,a){"use strict";var s=a("8485"),i=a.n(s);i.a},"5fb3":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement;e._self._c},i=[];a.d(t,"a",function(){return s}),a.d(t,"b",function(){return i})},"65e8":function(e,t,a){"use strict";a.r(t);var s=a("5fb3"),i=a("94ce");for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);a("517f");var o=a("2877"),n=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,"68e5663d",null);t["default"]=n.exports},"7d06":function(e,t,a){"use strict";(function(e,s){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("2f62"),r=o(a("a7a3"));function o(e){return e&&e.__esModule?e:{default:e}}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},s=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),s.forEach(function(t){u(e,t,a[t])})}return e}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l={data:function(){return{photoImg:"",tempFile:[],jobsortList:[],startDate:"",endDate:this.getDate(),resumeList:"",material:{epxJob:"",seleMoney:"",seleSex:"",seleEducation:"",moneyList:[{id:"01",name:"1000及以上"},{id:"02",name:"1500及以上"}],workPlace:"",name:"",sex:[{id:"1",name:"男"},{id:"2",name:"女"}],birth:this.getDate(),nowLive:"",education:[{id:"1",name:"初中"},{id:"2",name:"高中"}],stature:[],weight:""},obj:{genderT:0,edu:0,height:0,workStatus:0,money:0}}},onShow:function(){this.bodyHigh(),this.get_salary(),this.getMore(),this.get_resume_info(),console.log(e("居住地方",this.addnowLive," at pages\\material\\material.vue:224")),console.log(e("工作地方",this.addworkAddress," at pages\\material\\material.vue:225"))},computed:n({},(0,i.mapState)(["addnowLive","addworkAddress","token","jobCategory","addresumeList"])),onLoad:function(){this.getDate()},methods:n({},(0,i.mapMutations)(["saveResumeList"]),{upPhoto:function(){var t=this;s.chooseImage({count:1,success:function(a){console.log(e("上传的图片",a," at pages\\material\\material.vue:244"));var i=new Date-0,r="http://blueuniapp.hb.com/index?ver=v1.0&apiname=photo_up&token="+t.token+"&FILE:"+a.tempFilePaths[0]+"&t="+i,o=a.tempFilePaths;console.log(e("上传的图片",t.tempFile," at pages\\material\\material.vue:249"));s.uploadFile({url:r,filePath:o[0],name:"file",success:function(a){var i=JSON.parse(a.data);t.photoImg=i.data.url,console.log(e("返回的图片地址",t.photoImg," at pages\\material\\material.vue:266")),s.showToast({title:"上传成功"})}})}})},pickerChangeVal:function(t,a){var s=this;console.log(e("获取的值",t," at pages\\material\\material.vue:277")),console.log(e("获取的类型",a," at pages\\material\\material.vue:278"));var i=t.detail.value;switch(this.obj[a]=t.target.value,a){case"genderT":this.material.sex.forEach(function(t,a){i==a&&(s.resumeList.sex=i+1,console.log(e("性别的code",s.resumeList.sex," at pages\\material\\material.vue:286")))});break;case"edu":this.material.education.forEach(function(t,a){i==a&&(s.resumeList.max_degree_id=t.id,console.log(e("学历",s.resumeList.max_degree_id," at pages\\material\\material.vue:294")))});break;case"money":this.material.moneyList.forEach(function(t,a){i==a&&(s.resumeList.exp_salary=t.id,console.log(e("薪资",s.resumeList.exp_salary," at pages\\material\\material.vue:302")))});break;case"height":this.material.stature.forEach(function(t,a){i==a&&(s.resumeList.stature=t.value,console.log(e("选择的身高",s.resumeList.stature," at pages\\material\\material.vue:318")))});break;default:break}},savePerInfo:function(){var t=this;if(!this.photoImg)return s.showToast({title:"请上传头像"});this.saveResumeList(this.resumeList),this.$http.post(r.default.RESUMALTER,{params:{token:this.token,txtExpectAreaPut:this.resumeList.expect_area_ids,txtExpectPostPut:this.resumeList.expect_jobsort_ids,authCode:"",txtUserName:this.resumeList.user_name,txtGenderPut:this.resumeList.sex,txtBirthdayPut:this.resumeList.birthday,txtEducationPut:this.resumeList.max_degree_id,txtUserPhone:this.resumeList.mobile_phone,txtWorkStatePut:this.resumeList.job_state_id?this.resumeList.job_state_id:"",curPlace:this.resumeList.cur_area_id,stature:this.resumeList.stature.slice(0,3),weight:this.resumeList.weight,photo:this.photoImg,txthidSalaryPut:this.resumeList.exp_salary}}).then(function(a){a.data.success?(console.log(e("ggggggg",a.data," at pages\\material\\material.vue:355")),s.switchTab({url:"../index/index"})):t.$KM.showToast(a.data.msg)})},get_resume_info:function(){var t=this;this.$http.get(r.default.RESUME_INFO,{params:{token:this.token,is_sync_hb:0}}).then(function(a){if(a.data.success){t.addresumeList?(t.resumeList="",t.resumeList=t.addresumeList):t.resumeList=a.data.data,t.photoImg=t.resumeList.photo,t.obj.genderT=t.resumeList.sex-1;for(var s=0;s<t.material.education.length;s++)t.material.education[s].id===t.resumeList.max_degree_id&&(t.obj.edu=s);for(s=0;s<t.material.stature.length;s++)-1!==t.material.stature[s].value.indexOf(t.resumeList.stature)&&(t.obj.height=s);for(s=0;s<t.material.moneyList.length;s++)t.material.moneyList[s].id===t.resumeList.exp_salary&&(t.obj.money=s);if(t.jobCategory&&t.jobCategory.length>0){t.jobsortList=[];var i=[],r=[];t.jobCategory.forEach(function(e){i.push(e.jobsort_name),r.push(e.jobsort),t.jobsortList.push(e)}),t.resumeList.str_expect_jobsorts=i.join(),t.resumeList.expect_jobsort_ids=r.join(),console.log(e("修改后的职位",t.resumeList.str_expect_jobsorts," at pages\\material\\material.vue:411"))}else t.jobsortList=t.resumeList.expect_jobsort;if(t.addworkAddress&&t.addworkAddress.length>0){var o=[],n=[];t.addworkAddress.forEach(function(e){o.push(e.name),n.push(e.value)}),t.resumeList.str_expect_areas=o.join(),t.resumeList.expect_area_ids=n.join(),console.log(e("修改后的地址",t.resumeList.str_expect_areas," at pages\\material\\material.vue:425"))}t.addnowLive&&t.addnowLive.length>0&&(t.resumeList.cur_area_id=t.addnowLive[0].value,t.resumeList.cur_area_name=t.addnowLive[0].name)}else console.log(e("请求简历失败"," at pages\\material\\material.vue:432"))}).catch(function(t){console.log(e(t," at pages\\material\\material.vue:435"))})},getMore:function(){var t=this;this.$http.post(r.default.MORE_COMMON,{}).then(function(e){e.data.success&&(t.material.sex=e.data.data.sexs_list,t.material.education=e.data.data.degree)}).catch(function(t){console.log(e(t," at pages\\material\\material.vue:446"))})},get_salary:function(){var t=this;this.$http.post(r.default.SALARY_COMMON,{}).then(function(e){e.data.success&&(t.material.moneyList=e.data.data.salarys)}).catch(function(t){console.log(e(t," at pages\\material\\material.vue:456"))})},goJobCategory:function(){this.saveResumeList(this.resumeList);var t={expect_jobsort:this.jobsortList,type:"tianxie"};console.log(e("这边的职位点点大",this.jobsortList," at pages\\material\\material.vue:465")),t=JSON.stringify(t),s.navigateTo({url:"../person/resume/jobCategory/jobCategory?params=".concat(t)})},workAddress:function(){this.saveResumeList(this.resumeList);var e=[];e=this.addworkAddress?this.addworkAddress:this.resumeList.expect_areas;var t={type:"addworkAddress",plac:e};t=JSON.stringify(t),s.navigateTo({url:"../person/resume/presentAddress/presentAddress?params=".concat(t)})},bindDateChange:function(e){this.resumeList.birthday=e.target.value},goAddress:function(){this.saveResumeList(this.resumeList);var e=[],t={};this.addnowLive&&this.addnowLive.length>0?e=this.addnowLive:this.resumeList.cur_area_name&&this.resumeList.cur_area_id&&(t.name=this.resumeList.cur_area_name?this.resumeList.cur_area_name:"",t.value=this.resumeList.cur_area_id?this.resumeList.cur_area_id:"",e.push(t));var a={type:"addnowLive",plac:e};a=JSON.stringify(a),s.navigateTo({url:"../person/resume/presentAddress/presentAddress?params=".concat(a)})},bodyHigh:function(){for(var e=[],t=[],a=140;a<221;a++){var s={};e[a]=a+"cm",s.value=e[a],t.push(s)}this.material.stature=t},getDate:function(e){var t=new Date,a=t.getFullYear(),s=t.getMonth()+1,i=t.getDate();return"start"===e?a-=60:"end"===e&&(a+=2),s=s>9?s:"0"+s,i=i>9?i:"0"+i,"".concat(a,"-").concat(s,"-").concat(i)}})};t.default=l}).call(this,a("0de9")["default"],a("6e42")["default"])},8485:function(e,t,a){},"94ce":function(e,t,a){"use strict";a.r(t);var s=a("7d06"),i=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);t["default"]=i.a},b546:function(e,t,a){"use strict";(function(e){a("2887"),a("921b");s(a("66fd"));var t=s(a("65e8"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("6e42")["createPage"])}},[["b546","common/runtime","common/vendor"]]]);