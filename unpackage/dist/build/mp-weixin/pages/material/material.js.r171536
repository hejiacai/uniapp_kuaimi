(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/material/material"],{"1a46":function(e,t,s){"use strict";var a=s("cae3"),o=s.n(a);o.a},"6a6a":function(e,t,s){"use strict";s.r(t);var a=s("a0e0"),o=s("7c2c");for(var i in o)"default"!==i&&function(e){s.d(t,e,function(){return o[e]})}(i);s("1a46");var r=s("2877"),n=Object(r["a"])(o["default"],a["a"],a["b"],!1,null,"e7aec3ec",null);t["default"]=n.exports},"7c2c":function(e,t,s){"use strict";s.r(t);var a=s("a259"),o=s.n(a);for(var i in a)"default"!==i&&function(e){s.d(t,e,function(){return a[e]})}(i);t["default"]=o.a},a0e0:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},o=[];s.d(t,"a",function(){return a}),s.d(t,"b",function(){return o})},a259:function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s("2f62"),o=i(s("2218"));function i(e){return e&&e.__esModule?e:{default:e}}function r(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){n(e,t,s[t])})}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var u={data:function(){return{photoImg:"",tempFile:[],jobsortList:[],startDate:"",endDate:this.getDate(),resumeList:"",material:{epxJob:"",seleMoney:"",seleSex:"",seleEducation:"",moneyList:[{id:"01",name:"1000及以上"},{id:"02",name:"1500及以上"}],workPlace:"",name:"",sex:[{id:"1",name:"男"},{id:"2",name:"女"}],birth:this.getDate(),nowLive:"",education:[{id:"1",name:"初中"},{id:"2",name:"高中"}],stature:[],weight:""},obj:{genderT:0,edu:0,height:0,workStatus:0,money:0}}},onShow:function(){this.personPhoto&&this.personPhoto.length>0&&(this.photoImg=this.personPhoto),this.bodyHigh(),this.get_salary(),this.getMore(),this.get_resume_info(),console.log("居住地方",this.addnowLive),console.log("工作地方",this.addworkAddress)},computed:r({},(0,a.mapState)(["addnowLive","addworkAddress","token","jobCategory","addresumeList","personPhoto"])),onLoad:function(){this.getDate()},methods:r({},(0,a.mapMutations)(["saveResumeList","savePhoto"]),{upPhoto:function(){var t=this;e.chooseImage({count:1,success:function(s){console.log("上传的图片",s);var a=new Date-0,o="http://blueuniapp.hb.com/index?ver=v1.0&apiname=photo_up&token="+t.token+"&FILE:"+s.tempFilePaths[0]+"&t="+a,i=s.tempFilePaths;console.log("上传的图片",t.tempFile);e.uploadFile({url:o,filePath:i[0],name:"file",success:function(s){var a=JSON.parse(s.data);t.photoImg=a.data.url,t.savePhoto(a.data.url),console.log("返回的图片地址",t.photoImg),e.showToast({title:"上传成功"})}})}})},pickerChangeVal:function(e,t){var s=this;console.log("获取的值",e),console.log("获取的类型",t);var a=e.detail.value;switch(this.obj[t]=e.target.value,t){case"genderT":this.material.sex.forEach(function(e,t){a==t&&(s.resumeList.sex=a+1,console.log("性别的code",s.resumeList.sex))});break;case"edu":this.material.education.forEach(function(e,t){a==t&&(s.resumeList.max_degree_id=e.id,console.log("学历",s.resumeList.max_degree_id))});break;case"money":this.material.moneyList.forEach(function(e,t){a==t&&(s.resumeList.exp_salary=e.id,console.log("薪资",s.resumeList.exp_salary))});break;case"height":this.material.stature.forEach(function(e,t){a==t&&(s.resumeList.stature=e.value,console.log("选择的身高",s.resumeList.stature))});break;default:break}},savePerInfo:function(){var t=this;if(!this.photoImg)return e.showToast({title:"请上传头像"});this.saveResumeList(this.resumeList),this.$http.post(o.default.RESUMALTER,{params:{token:this.token,txtExpectAreaPut:this.resumeList.expect_area_ids,txtExpectPostPut:this.resumeList.expect_jobsort_ids,authCode:"",txtUserName:this.resumeList.user_name,txtGenderPut:this.resumeList.sex,txtBirthdayPut:this.resumeList.birthday,txtEducationPut:this.resumeList.max_degree_id,txtUserPhone:this.resumeList.mobile_phone,txtWorkStatePut:this.resumeList.job_state_id?this.resumeList.job_state_id:"",curPlace:this.resumeList.cur_area_id,stature:this.resumeList.stature.slice(0,3),weight:this.resumeList.weight,photo:this.photoImg,txthidSalaryPut:this.resumeList.exp_salary}}).then(function(s){s.data.success?(console.log("ggggggg",s.data),e.switchTab({url:"../index/index"})):t.$KM.showToast(s.data.msg)})},get_resume_info:function(){var e=this;this.$http.get(o.default.RESUME_INFO,{params:{token:this.token,is_sync_hb:0}}).then(function(t){if(t.data.success){e.addresumeList?(e.resumeList="",e.resumeList=e.addresumeList):e.resumeList=t.data.data,e.photoImg=e.resumeList.photo,e.obj.genderT=e.resumeList.sex-1;for(var s=0;s<e.material.education.length;s++)e.material.education[s].id===e.resumeList.max_degree_id&&(e.obj.edu=s);for(s=0;s<e.material.stature.length;s++)-1!==e.material.stature[s].value.indexOf(e.resumeList.stature)&&(e.obj.height=s);for(s=0;s<e.material.moneyList.length;s++)e.material.moneyList[s].id===e.resumeList.exp_salary&&(e.obj.money=s);if(e.jobCategory&&e.jobCategory.length>0){e.jobsortList=[];var a=[],o=[];e.jobCategory.forEach(function(t){a.push(t.jobsort_name),o.push(t.jobsort),e.jobsortList.push(t)}),e.resumeList.str_expect_jobsorts=a.join(),e.resumeList.expect_jobsort_ids=o.join(),console.log("修改后的职位",e.resumeList.str_expect_jobsorts)}else e.jobsortList=e.resumeList.expect_jobsort;if(e.addworkAddress&&e.addworkAddress.length>0){var i=[],r=[];e.addworkAddress.forEach(function(e){i.push(e.name),r.push(e.value)}),e.resumeList.str_expect_areas=i.join(),e.resumeList.expect_area_ids=r.join(),console.log("修改后的地址",e.resumeList.str_expect_areas)}e.addnowLive&&e.addnowLive.length>0&&(e.resumeList.cur_area_id=e.addnowLive[0].value,e.resumeList.cur_area_name=e.addnowLive[0].name)}else console.log("请求简历失败")}).catch(function(e){console.log(e)})},getMore:function(){var e=this;this.$http.post(o.default.MORE_COMMON,{}).then(function(t){t.data.success&&(e.material.sex=t.data.data.sexs_list,e.material.education=t.data.data.degree)}).catch(function(e){console.log(e)})},get_salary:function(){var e=this;this.$http.post(o.default.SALARY_COMMON,{}).then(function(t){t.data.success&&(e.material.moneyList=t.data.data.salarys)}).catch(function(e){console.log(e)})},goJobCategory:function(){this.saveResumeList(this.resumeList);var t={expect_jobsort:this.jobsortList,type:"tianxie"};console.log("这边的职位点点大",this.jobsortList),t=JSON.stringify(t),e.navigateTo({url:"../person/resume/jobCategory/jobCategory?params=".concat(t)})},workAddress:function(){this.saveResumeList(this.resumeList);var t=[];t=this.addworkAddress?this.addworkAddress:this.resumeList.expect_areas;var s={type:"addworkAddress",plac:t};s=JSON.stringify(s),e.navigateTo({url:"../person/resume/presentAddress/presentAddress?params=".concat(s)})},bindDateChange:function(e){this.resumeList.birthday=e.target.value},goAddress:function(){this.saveResumeList(this.resumeList);var t=[],s={};this.addnowLive&&this.addnowLive.length>0?t=this.addnowLive:this.resumeList.cur_area_name&&this.resumeList.cur_area_id&&(s.name=this.resumeList.cur_area_name?this.resumeList.cur_area_name:"",s.value=this.resumeList.cur_area_id?this.resumeList.cur_area_id:"",t.push(s));var a={type:"addnowLive",plac:t};a=JSON.stringify(a),e.navigateTo({url:"../person/resume/presentAddress/presentAddress?params=".concat(a)})},bodyHigh:function(){for(var e=[],t=[],s=140;s<221;s++){var a={};e[s]=s+"cm",a.value=e[s],t.push(a)}this.material.stature=t},getDate:function(e){var t=new Date,s=t.getFullYear(),a=t.getMonth()+1,o=t.getDate();return"start"===e?s-=60:"end"===e&&(s+=2),a=a>9?a:"0"+a,o=o>9?o:"0"+o,"".concat(s,"-").concat(a,"-").concat(o)}})};t.default=u}).call(this,s("543d")["default"])},ad84:function(e,t,s){"use strict";(function(e){s("0da9"),s("921b");a(s("66fd"));var t=a(s("6a6a"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s("543d")["createPage"])},cae3:function(e,t,s){}},[["ad84","common/runtime","common/vendor"]]]);