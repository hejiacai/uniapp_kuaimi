(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/nearbyJob/nearbyJob"],{4032:function(n,e,t){"use strict";(function(n){t("0da9"),t("921b");o(t("66fd"));var e=o(t("b56b"));function o(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])},"9ea4":function(n,e,t){},b402:function(n,e,t){"use strict";var o=t("9ea4"),a=t.n(o);a.a},b56b:function(n,e,t){"use strict";t.r(e);var o=t("f3cf"),a=t("b7a0");for(var r in a)"default"!==r&&function(n){t.d(e,n,function(){return a[n]})}(r);t("b402");var i=t("2877"),u=Object(i["a"])(a["default"],o["a"],o["b"],!1,null,null,null);e["default"]=u.exports},b7a0:function(n,e,t){"use strict";t.r(e);var o=t("cf8a"),a=t.n(o);for(var r in o)"default"!==r&&function(n){t.d(e,n,function(){return o[n]})}(r);e["default"]=a.a},cf8a:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t("2f62"),a=r(t("2218"));function r(n){return n&&n.__esModule?n:{default:n}}function i(n){return s(n)||c(n)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}function s(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function l(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),o.forEach(function(e){p(n,e,t[e])})}return n}function p(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var f=function(){return Promise.all([t.e("common/vendor"),t.e("components/uni-icons/uni-icons")]).then(t.bind(null,"95a2"))},d=function(){return t.e("components/uni-nav-bar/uni-nav-bar").then(t.bind(null,"de98"))},b=function(){return t.e("components/filterTabBar").then(t.bind(null,"5d3f"))},g=function(){return Promise.all([t.e("common/vendor"),t.e("components/jobItemCard")]).then(t.bind(null,"48bb"))},m=function(){return t.e("components/uni-load-more/uni-load-more").then(t.bind(null,"e451"))},h={components:{uniIcons:f,uniNavBar:d,uniLoadMore:m,filterTabBar:b,jobitemCard:g},data:function(){return{nearbyJob:"",isFixed:!0,jobList:[],jobItem:"",famousCompanyAry:[],page_pageno:1,page_isnextpage:!1,isLoandMore:!1,loandMore:"more",default_photo:"//assets.huibo.com/img/blue/com_default.png"}},onReachBottom:function(){this.onReachMore()},onShow:function(){var n=this;n.getCommonJob(),n.$http.post(a.default.FAMOUS_COMPANY,{params:{page_pageno:n.page_pageno,token:this.token,page_pagesize:10}}).then(function(e){n.famousCompanyAry=e.data.data,n.page_isnextpage=e.data.page.page_isnextpage,console.log(n.page_isnextpage),n.page_isnextpage&&(n.isLoandMore=!0)}).catch(function(n){console.log("翻页出错了")})},onLoad:function(e){var t=this;this.nearbyJob=e.type,n.$on("searchJob",function(n){t.jobList=n.job_list,console.log("返回的职位搜索",n)})},computed:l({},(0,o.mapState)(["token","presentAddress","jobCategory","indexSearchJob"])),methods:{turnLaction:function(){},back:function(){n.navigateBack({delta:1})},getCommonJob:function(){var n=this;n.$http.post(a.default.COMMON_SEARCH,{params:{token:this.token,page_pageno:this.page_pageno,page_pagesize:8,keyword:"",area_id:"",sex:1,schedule:"",salary:"",age:"",calling_id:"",reward_ids:"",job_sorts:"",is_neer:!1,map_x:"",map_y:"",map_d:""}}).then(function(e){var t;1==e.data.success?(console.log("首页职位列表请求成功",e.data.data.job_list),(t=n.jobList).push.apply(t,i(e.data.data.job_list))):n.$KM.showToast("请求职位列表接口失败")}).catch(function(e){n.$KM.showToast("请求职位列表接口失败")})},onReachMore:function(){var n=this,e=n.page_pageno;e++,n.loandMore="loading",n.$http.post(a.default.FAMOUS_COMPANY,{params:{page_pageno:e,token:this.token,page_pagesize:10}}).then(function(t){var o;t.data.page.page_isnextpage||(n.loandMore="noMore"),(o=n.famousCompanyAry).push.apply(o,i(t.data.data)),n.page_pageno=e,n.page_isnextpage=t.data.page.page_isnextpage}).catch(function(n){console.log("翻页出错了")})}}};e.default=h}).call(this,t("543d")["default"])},f3cf:function(n,e,t){"use strict";var o=function(){var n=this,e=n.$createElement;n._self._c},a=[];t.d(e,"a",function(){return o}),t.d(e,"b",function(){return a})}},[["4032","common/runtime","common/vendor"]]]);